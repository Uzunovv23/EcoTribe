@{
    ViewData["Title"] = "Administrator Dashboard";
}

<link rel="stylesheet" href="~/css/admin.css" />

<main role="main">
    <button class="side-nav-toggle">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <nav class="side-nav">
        <div class="side-nav-header">
            <a class="navbar-brand" asp-controller="Home" asp-action="Index">
                <i class="bi bi-leaf"></i>
                <span>EcoTribe</span>
            </a>
        </div>
        <ul class="side-nav-menu">
            <li><a asp-controller="Home" asp-action="Index">Home</a></li>
            <li><a asp-controller="Event" asp-action="Index">Events</a></li>
            <li><a asp-controller="Organization" asp-action="Index">Organizations</a></li>
            @if (User.IsInRole("Administrator") || User.IsInRole("Organizator"))
            {
                <li><a asp-controller="Volunteer" asp-action="Index">Volunteers</a></li>
                <li><a asp-controller="EventResource" asp-action="Index">Event Resources</a></li>
                <li><a asp-controller="EventVolunteer" asp-action="Index">Event Volunteers</a></li>
                <li><a asp-controller="Feedback" asp-action="Index">Feedback</a></li>
                <li><a asp-controller="Location" asp-action="Index">Locations</a></li>
            }
            <li class="position-relative">
                <a asp-controller="Notification" asp-action="Index">
                    <i class="bi bi-bell"></i> Notifications
                    <span id="notification-count" class="badge bg-danger rounded-pill position-absolute top-0 start-100 translate-middle d-none" style="font-size: 0.75rem;">
                        0
                    </span>
                </a>
            </li>
            @if (User.IsInRole("Administrator"))
            {
                <li>
                    <a asp-controller="Admin" asp-action="Index" class="active">
                        <i class="bi bi-gear-fill"></i> Admin Panel
                    </a>
                </li>
            }
        </ul>
        <div class="side-nav-footer">
            @if (User.Identity.IsAuthenticated)
            {
                <a asp-controller="Account" asp-action="Logout" class="btn btn-outline-success">Logout</a>
            }
            else
            {
                <a asp-controller="Account" asp-action="Login" class="btn btn-outline-success mb-2">Log In</a>
                <a asp-controller="Account" asp-action="Register" class="btn btn-success">Sign Up</a>
            }
        </div>
    </nav>

    <div class="admin-dashboard">
        <div class="dashboard-header text-center mb-5">
            <div class="header-icon mb-3">
                <i class="bi bi-shield-check fa-4x text-primary"></i>
            </div>
            <h1 class="display-4 fw-bold text-dark">Administrator Dashboard</h1>
            <p class="lead text-muted">Manage users and organizations for environmental impact</p>
        </div>

        <div class="row justify-content-center">
            <div class="col-lg-5 col-md-6 mb-4">
                <div class="management-card card h-100 shadow-lg border-0">
                    <div class="card-body text-center p-5">
                        <div class="card-icon mb-4">
                            <i class="bi bi-people-fill fa-5x text-primary"></i>
                        </div>
                        <h3 class="card-title fw-bold text-dark mb-3">User Management</h3>
                        <p class="card-text text-muted mb-4">
                            Manage user roles, promote users to organizers, and oversee eco-champions.
                        </p>
                        <div class="feature-list mb-4">
                            <div class="feature-item">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <span>Role Management</span>
                            </div>
                            <div class="feature-item">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <span>User Promotion</span>
                            </div>
                            <div class="feature-item">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <span>Account Oversight</span>
                            </div>
                        </div>
                        <a href="@Url.Action("UserManagement", "Admin")" class="btn btn-primary btn-lg px-4 management-btn">
                            <i class="bi bi-arrow-right me-2"></i>
                            Manage Users
                        </a>
                    </div>
                </div>
            </div>

            <div class="col-lg-5 col-md-6 mb-4">
                <div class="management-card card h-100 shadow-lg border-0">
                    <div class="card-body text-center p-5">
                        <div class="card-icon mb-4">
                            <i class="bi bi-building fa-5x text-success"></i>
                        </div>
                        <h3 class="card-title fw-bold text-dark mb-3">Organization Management</h3>
                        <p class="card-text text-muted mb-4">
                            Review, approve, and manage environmental organization applications.
                        </p>
                        <div class="feature-list mb-4">
                            <div class="feature-item">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <span>Application Review</span>
                            </div>
                            <div class="feature-item">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <span>Status Management</span>
                            </div>
                            <div class="feature-item">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <span>Organization Oversight</span>
                            </div>
                        </div>
                        <a href="@Url.Action("OrganizationManagement", "Admin")" class="btn btn-success btn-lg px-4 management-btn">
                            <i class="bi bi-arrow-right me-2"></i>
                            Manage Organizations
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="statistics-section mt-5">
            <div class="row text-center">
                <div class="col-md-4 mb-3">
                    <div class="stat-card card border-0 bg-primary text-white">
                        <div class="card-body py-4">
                            <i class="bi bi-person-badge fa-2x mb-2"></i>
                            <h4 class="fw-bold">Total Administrators</h4>
                            <p class="mb-0">System guardians</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="stat-card card border-0 bg-info text-white">
                        <div class="card-body py-4">
                            <i class="bi bi-people fa-2x mb-2"></i>
                            <h4 class="fw-bold">Active Eco-Champions</h4>
                            <p class="mb-0">Environmental advocates</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="stat-card card border-0 bg-warning text-white">
                        <div class="card-body py-4">
                            <i class="bi bi-tree fa-2x mb-2"></i>
                            <h4 class="fw-bold">Green Organizations</h4>
                            <p class="mb-0">Environmental entities</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<script src="~/js/admin.js"></script>