@model EcoTribe.BusinessObjects.InputModels.EventInputModel

@{
    ViewData["Title"] = "Edit Event";
}

<link rel="stylesheet" href="~/css/event-edit.css" />

<div class="event-edit-container">
    <div class="event-edit-header">
        <h1>Edit Event</h1>
        <p>Update your event details and information</p>
    </div>

    <div class="event-edit-card">
        <form asp-action="Edit" method="post" class="event-edit-form">
            @Html.AntiForgeryToken()

            <div class="form-section">
                <h2>Basic Information</h2>

                <div class="form-group">
                    <label asp-for="Name">
                        Event Name
                        <span class="required">*</span>
                    </label>
                    <div class="input-wrapper">
                        <input asp-for="Name" class="form-control" required />
                        <div class="tooltip-icon">
                            <i class="bi bi-info-circle"></i>
                            <span class="tooltip">The name of your event as it will appear to participants</span>
                        </div>
                    </div>
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="Type">
                        Event Type
                        <span class="required">*</span>
                    </label>
                    <input asp-for="Type" class="form-control" required />
                    <span asp-validation-for="Type" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="Description">
                        Description
                        <span class="required">*</span>
                    </label>
                    <div class="input-wrapper">
                        <textarea asp-for="Description" class="form-control" required></textarea>
                        <div class="tooltip-icon textarea-tooltip">
                            <i class="bi bi-info-circle"></i>
                            <span class="tooltip">Describe your event's purpose and what participants can expect</span>
                        </div>
                    </div>
                    <div class="char-count">
                        <span>0</span> characters
                    </div>
                    <span asp-validation-for="Description" class="text-danger"></span>
                </div>
            </div>

            <div class="form-section">
                <h2>Date and Time</h2>

                <div class="datetime-group">
                    <div class="form-group">
                        <label asp-for="Start">
                            Start Date & Time
                            <span class="required">*</span>
                        </label>
                        <input asp-for="Start" class="form-control" type="datetime-local" required />
                        <span asp-validation-for="Start" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="End">
                            End Date & Time
                            <span class="required">*</span>
                        </label>
                        <input asp-for="End" class="form-control" type="datetime-local" required />
                        <span asp-validation-for="End" class="text-danger"></span>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h2>Location Details</h2>

                <div class="form-group">
                    <label asp-for="City">
                        City
                        <span class="required">*</span>
                    </label>
                    <input asp-for="City" class="form-control" required />
                    <span asp-validation-for="City" class="text-danger"></span>
                </div>

                <div class="coordinates-group">
                    <div class="form-group">
                        <label asp-for="Latitude">
                            Latitude
                            <span class="required">*</span>
                        </label>
                        <input asp-for="Latitude" class="form-control" type="number" step="0.000001" required />
                        <span asp-validation-for="Latitude" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="Longitude">
                            Longitude
                            <span class="required">*</span>
                        </label>
                        <input asp-for="Longitude" class="form-control" type="number" step="0.000001" required />
                        <span asp-validation-for="Longitude" class="text-danger"></span>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h2>Event Requirements</h2>

                <div class="form-group">
                    <label asp-for="RequiredVolunteers">
                        Required Volunteers
                        <span class="required">*</span>
                    </label>
                    <div class="input-wrapper">
                        <input asp-for="RequiredVolunteers" class="form-control" type="number" required min="1" />
                        <div class="tooltip-icon">
                            <i class="bi bi-info-circle"></i>
                            <span class="tooltip">The number of volunteers needed for this event</span>
                        </div>
                    </div>
                    <span asp-validation-for="RequiredVolunteers" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="CreatedBy">Organizer ID</label>
                    <input asp-for="CreatedBy" class="form-control" type="number" readonly />
                    <span asp-validation-for="CreatedBy" class="text-danger"></span>
                </div>
            </div>

            <div class="form-actions">
                <a asp-action="Index" class="btn-cancel">Cancel</a>
                <button type="submit" class="btn-submit">
                    <span class="btn-icon">✓</span>
                    Update Event
                </button>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <script src="~/js/event-edit.js"></script>
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}